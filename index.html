<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Mektup</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  height:100vh;
  background:radial-gradient(circle at top,#1a1a1a,#000);
  font-family: "Segoe UI",sans-serif;
  overflow:hidden;
  color:#fff;
}

/* CLICK TEXT */
#clicker{
  position:absolute;
  top:30px;
  left:50%;
  transform:translateX(-50%);
  font-size:2.2em;
  letter-spacing:3px;
  cursor:pointer;
  opacity:.85;
  transition:.3s;
}
#clicker:hover{opacity:1;transform:translateX(-50%) scale(1.05)}

/* ENVELOPE */
.envelope{
  position:absolute;
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  width:320px;height:210px;
  background:linear-gradient(145deg,#ffffff,#e6e6e6);
  border-radius:6px;
  box-shadow:
    0 25px 60px rgba(0,0,0,.7),
    inset 0 0 20px rgba(0,0,0,.15);
  perspective:800px;
}

/* FLAP */
.flap{
  position:absolute;
  width:100%;
  height:52%;
  top:0;
  background:linear-gradient(#f0f0f0,#dcdcdc);
  transform-origin:top;
  transition:1.2s cubic-bezier(.22,.61,.36,1);
  border-bottom:1px solid rgba(0,0,0,.15);
}
.envelope.open .flap{
  transform:rotateX(-170deg);
}

/* HEART */
.heart{
  position:absolute;
  top:50%;left:50%;
  width:90px;height:90px;
  transform:translate(-50%,-50%) scale(0);
  transition:1s;
  filter:drop-shadow(0 0 20px rgba(255,80,120,.8));
}
.heart:before,
.heart:after{
  content:"";
  position:absolute;
  width:50px;height:80px;
  background:linear-gradient(#ff4b6e,#b3002d);
  border-radius:50px 50px 0 0;
}
.heart:before{left:50px;transform:rotate(-45deg);transform-origin:0 100%;}
.heart:after{left:0;transform:rotate(45deg);transform-origin:100% 100%;}

.beat{
  animation:beat 1s infinite;
}
@keyframes beat{
  0%,100%{transform:translate(-50%,-50%) scale(1)}
  25%{transform:translate(-50%,-50%) scale(1.15)}
  40%{transform:translate(-50%,-50%) scale(.95)}
  60%{transform:translate(-50%,-50%) scale(1.2)}
}

/* SCROLL */
.scroll{
  position:absolute;
  top:8%;left:50%;
  transform:translateX(-50%) scaleY(0);
  transform-origin:top;
  width:65%;
  max-width:650px;
  background:
    repeating-linear-gradient(
      0deg,
      #fffaf0,
      #fffaf0 24px,
      #f2e6c9 25px
    );
  border-radius:0 0 20px 20px;
  box-shadow:0 40px 80px rgba(0,0,0,.8);
  padding:30px;
  color:#222;
  font-size:1.25em;
  line-height:1.6;
  max-height:80vh;
  overflow:auto;
}
.scroll.open{
  animation:unroll 2s cubic-bezier(.19,1,.22,1) forwards;
}
@keyframes unroll{
  to{transform:translateX(-50%) scaleY(1)}
}

canvas{
  position:absolute;
  inset:0;
  pointer-events:none;
}
</style>
</head>
<body>

<div id="clicker">TIKLA</div>

<div class="envelope" id="env">
<div class="flap"></div>
<div class="heart" id="heart"></div>
</div>

<canvas id="fx"></canvas>

<div class="scroll" id="scroll">
<div id="text"></div>
</div>

<script>
const clicker=document.getElementById("clicker");
const env=document.getElementById("env");
const heart=document.getElementById("heart");
const scroll=document.getElementById("scroll");
const text=document.getElementById("text");

const message=`Cem hayatÄ±mda olduÄŸun iÃ§in ne kadar ÅŸanslÄ± olduÄŸumu sana anlatmaya kelimeler yetmez aÅŸkÄ±mm seninle konuÅŸtuÄŸum her an iÃ§imde tarif edemediÄŸim bir huzur ve mutluluk oluÅŸuyo sanki dÃ¼nyadaki bÃ¼tÃ¼n karmaÅŸanÄ±n iÃ§inde sen bana ait en gÃ¼zel sakinliksin birtanem mesafeler ekranlar ya da aramÄ±zdaki her ne varsa sana hissettiklerimi azaltmÄ±yor aksine seni daha Ã§ok dÃ¼ÅŸÃ¼nmeme seni daha Ã§ok merak etmeme ve sana daha Ã§ok baÄŸlanmama sebep oluyo

Bazen gÃ¼n iÃ§inde hiÃ§ beklemediÄŸim bir anda aklÄ±ma geliyorsun ve yÃ¼zÃ¼mde kocaman bir gÃ¼lÃ¼mseme oluÅŸuyor Seninle konuÅŸmak sesini duymak ya da sadece yazÄ±ÅŸmak bile gÃ¼nÃ¼mÃ¼n en gÃ¼zel anÄ± ve utanmam oluyor Kalbime dokunan o gÃ¼zel enerjin iÃ§tenliÄŸin ve samimiyetin beni sana her geÃ§en gÃ¼n daha Ã§ok yakÄ±nlaÅŸtÄ±rÄ±yor

Sen benim iÃ§in sadece konuÅŸtuÄŸum biri deÄŸilsin sen benim iÃ§imi Ä±sÄ±tan bana kendimi deÄŸerli hissettiren en sade anlarÄ± bile anlamlÄ± yapan Ã¶zel birisin Seninle kurduÄŸumuz bu baÄŸ benim iÃ§in Ã§ok kÄ±ymetli Bazen yanÄ±nda olabilmeyi sana sarÄ±labilmeyi, gÃ¶zlerinin iÃ§ine bakÄ±p hissettiklerimi anlatabilmeyi hayal ediyorum Ama bil ki mesafeler ne olursa olsun kalbim sana hep Ã§ok yakÄ±n Ä°yi ki varsÄ±n, iyi ki hayatÄ±ma girdin ve iyi ki kalbimde bu kadar gÃ¼zel bir yerin var Seninle daha paylaÅŸacaÄŸÄ±mÄ±z Ã§ok gÃ¼zel anlarÄ±n olduÄŸuna inanÄ±yorum Seni dÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼m her an iÃ§im sevgiyle doluyoðŸ’•ðŸ’•ðŸ’•ðŸ’•ðŸ’•ðŸ¤ðŸ¤ðŸ¤ðŸ©·ðŸ©·ðŸ’—â¤ï¸ðŸ’“ðŸ’â¤ï¸ðŸ’ðŸ’–ðŸ’›ðŸ¤ŽðŸ¤ðŸ©¶ðŸ’œ`;

function wait(ms){return new Promise(r=>setTimeout(r,ms));}

/* CLICK FLOW */
clicker.onclick=async()=>{
clicker.style.display="none";
env.classList.add("open");

await wait(1200);

heart.style.transform="translate(-50%,-50%) scale(1)";
heart.classList.add("beat");

startFireworks();

await wait(3500);
stopFireworks();

env.style.display="none";
scroll.classList.add("open");

typeWriter(message,text,18);
};

/* TYPEWRITER */
async function typeWriter(str,el,speed){
for(let i=0;i<str.length;i++){
el.textContent+=str[i];
await wait(speed);
}
}

/* FIREWORKS */
const canvas=document.getElementById("fx");
const ctx=canvas.getContext("2d");
let W,H;
function resize(){
W=canvas.width=innerWidth;
H=canvas.height=innerHeight;
}
resize();
addEventListener("resize",resize);

let particles=[];
let anim;

function firework(){
let x=Math.random()*W;
let y=Math.random()*H/2;
let color=`hsl(${Math.random()*360},100%,60%)`;

for(let i=0;i<120;i++){
let a=Math.random()*Math.PI*2;
let s=Math.random()*5+1;
particles.push({
x,y,
vx:Math.cos(a)*s,
vy:Math.sin(a)*s,
life:1,
color
});
}
}

function loop(){
ctx.fillStyle="rgba(0,0,0,.15)";
ctx.fillRect(0,0,W,H);

if(Math.random()<.06) firework();

particles.forEach((p,i)=>{
p.vy+=0.03;
p.x+=p.vx;
p.y+=p.vy;
p.life-=.012;

if(p.life<=0) particles.splice(i,1);

ctx.globalAlpha=p.life;
ctx.fillStyle=p.color;
ctx.beginPath();
ctx.arc(p.x,p.y,2.2,0,Math.PI*2);
ctx.fill();
});

anim=requestAnimationFrame(loop);
}

function startFireworks(){loop()}
function stopFireworks(){
cancelAnimationFrame(anim);
ctx.clearRect(0,0,W,H);
}
</script>

</body>
</html>
